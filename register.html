<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <link rel="stylesheet" type="text/css" href="assest/css/bootstrap.css" />
  <link rel="stylesheet" type="text/css" href="assest/css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="assest/css/index.css" />
  <link href="https://fonts.googleapis.com/css?family=Reem+Kufi&display=swap" rel="stylesheet" />

  <title>Cod3r</title>
</head>

<body>
  <div class="left-nav">
    <a href="index.html" class="home-link">Cod3r</a>
  </div>
  <div class="right-nav">
    <a href="about.html" class="sec-link">About</a>
    <a href="assest/docs/Cod3r Program.pdf" class="sec-link">Our Syllabus</a>
    <a href="contact.html" class="sec-link">Contact</a>
    <a href="register.html" class="sec-link">Apply</a>
  </div>

  <div class="container">
    <div class="row">
      <div class="col-sm-6" class="reg-msg-con">
        <div class="reg-msg-con">
          <p class="reg-intro">Welcome To Cod3r <br /></p>
          <p class="reg-msg">
            Ready To Hustle? <br />
            Ready To Collaborate? <br />
            Ready To Grow? <br />
            Ready To Thrive? <br />
          </p>
        </div>
      </div>
      <div class="col-sm-6">
        <div class="reg-con">
          <p class="reg-intro"><u>Register</u></p>
          <form action="#" id="regForm">
            <input class="reg-text" name="fullname" type="text" placeholder="Your Full Name" /><br />
            <input class="reg-text" name="email" type="email" placeholder="Email Address" /><br />
            <input class="reg-text" name="phone_no" type="text" placeholder="Phone Number" /><br />
            <input class="reg-text" name="state_residence" type="text" placeholder="State of Residence" /><br />
            <input class="reg-textarea" name="bio" type="textarea" placeholder="Tell us more about you" /><br />
            <input class="reg-textarea" name="why_web" type="textarea"
              placeholder="Tell us why you want to learn web development" /><br />
            <p class="reg-radio-text">
              Do you have any prior knowledge about HTML and CSS?<br />
            </p>
            <input type="radio" value="0" name="knowledge" />No <br />
            <input type="radio" value="1" name="knowledge" />Yes <br />
            <p class="reg-radio-text">
              Do you have a Hub (co-workspace) that will faciliate your
              learning?<br />
            </p>
            <input type="radio" value="0" name="workspace" />No <br />
            <input type="radio" value="1" name="workspace" />Yes <br />
            <p class="reg-radio-text">
              Are you willing to learn and code fulltime for the next 6
              months?<br />
            </p>
            <input type="radio" value="0" name="fulltime" />No <br />
            <input type="radio" value="1" name="fulltime" />Yes <br />
            <input class="reg-submit-btn" type="submit" placeholder="Submit" />
          </form>
        </div>
      </div>
    </div>
  </div>
  <div class="footer-con">
    <p class="footer">
      Developed by
      <a class="footer-link" href="https://twitter.com/oladetounjed">J3D</a>
    </p>
  </div>
  <script>
    const submitBtn = document.querySelector('[class="reg-submit-btn"]');

    async function submit() {
      let fullname = document.querySelector('[name="fullname"]').value;
      let email = document.querySelector('[name="email"]').value;
      let phone_no = document.querySelector('[name="phone_no"]').value;

      const url = 'http://localhost:3000/users/create';
      const data = { full_name: fullname, email: email, phone_no: phone_no };
      try {
        const response = await fetch(url, {
          method: 'POST', // or 'PUT'
          body: JSON.stringify(data), // data can be `string` or {object}!
          headers: {
            'Content-Type': 'application/json'
          }
        });
        const json = await response.json();
        console.log('Success:', JSON.stringify(json));
        document.getElementById("regForm").reset();
      } catch (error) {
        console.error('Error:', error);
      }
    }

    submitBtn.addEventListener('click', (event) => {
      event.preventDefault();
      submit();

    });

  </script>
</body>

</html>